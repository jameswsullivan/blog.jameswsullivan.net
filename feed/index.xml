<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>howdy</title>
	<atom:link href="https://jameswsullivan.github.io/feed/" rel="self" type="application/rss+xml" />
	<link>https://jameswsullivan.github.io/</link>
	<description></description>
	<lastBuildDate>Sat, 22 Apr 2023 16:33:12 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.2</generator>
	<item>
		<title>Use LineageOS on Pixel 3a XL</title>
		<link>https://jameswsullivan.github.io/use-lineageos-on-pixel-3a-xl/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sat, 22 Apr 2023 16:31:17 +0000</pubDate>
				<category><![CDATA[blog]]></category>
		<category><![CDATA[notes]]></category>
		<category><![CDATA[ADB]]></category>
		<category><![CDATA[Android]]></category>
		<category><![CDATA[bootloader]]></category>
		<category><![CDATA[Custom ROM]]></category>
		<category><![CDATA[fastboot]]></category>
		<category><![CDATA[LineageOS]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2326</guid>

					<description><![CDATA[Install LineageOS 19.1 on Pixel 3a XL.]]></description>
										<content:encoded><![CDATA[
<p>It&#8217;s been a while since I flashed a custom ROM on an Android phone a few years back. Recently I needed to get an old Pixel 3a XL to work for a project and I have to say that installing custom ROMs has become much easier than before.</p>



<h2 class="wp-block-heading">Steps</h2>



<ol>
<li>Get your computer and phone ready for ADB. <a href="https://wiki.lineageos.org/adb_fastboot_guide">https://wiki.lineageos.org/adb_fastboot_guide</a></li>



<li>Follow the steps here provided by LineageOS: <a href="https://wiki.lineageos.org/devices/crosshatch/">https://wiki.lineageos.org/devices/crosshatch/</a></li>
</ol>



<h2 class="wp-block-heading">Common Issues</h2>



<ul>
<li>If your device is not showing when running the <code>adb devices</code> command, 9 out 10 times it&#8217;s either a driver issue or <code>USB Debugging</code> not properly enabled. When installing the driver, you have to make sure that you manually install the correct &#8220;<code>Android Composite ADB Interface</code>&#8221; rather than letting Windows automatically pick the driver.<br><br>e.g. in <code>Device Manager</code>, right click on your phone, select <code>Update driver</code> &#8211;&gt; <code>Browse my computer for drivers</code> &#8211;&gt; browse to the USB driver folder you just downloaded and choose: <code>Let me pick from a list of available drivers on my computer</code>, and pick <code>Android Composite ADB Interface</code>.<br><br>Upon successful installation, your phone should appear in Device Manager as <code>Android Device - Android Composite ADB Interface</code> instead of under <code>Portable Devices</code> or <code>Universal Serial Bus controllers</code>.</li>
</ul>



<ul>
<li>Additionally, <code>fastboot flashing unlock</code> doesn&#8217;t unlock the bootloader, make sure that <code>Stay awake</code> and <code>OEM Unlocking</code> are enabled under <code>Developer options</code>.</li>
</ul>



<p>Other useful troubleshooting commands if your device is not showing under <code>adb devices</code> :</p>



<pre class="wp-block-code"><code>net stop winnat
net start winnat

adb kill-server
adb start-server</code></pre>



<h2 class="wp-block-heading">ADB Commands</h2>



<pre class="wp-block-code"><code>adb reboot bootloader
fastboot devices
fastboot flashing unlock
adb reboot bootloader
fastboot flash boot boot.img
adb sideload lineage-19.1-20230415-nightly-bonito-signed.zip
adb sideload MindTheGapps-12.1.0-arm64-20220605_112439.zip
</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Set up Docker host with Ubuntu Server and mount disks</title>
		<link>https://jameswsullivan.github.io/set-up-docker-host-with-ubuntu-server-and-mount-disks/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Tue, 11 Apr 2023 02:19:44 +0000</pubDate>
				<category><![CDATA[blog]]></category>
		<category><![CDATA[Docker]]></category>
		<category><![CDATA[Hosting]]></category>
		<category><![CDATA[Self-Hosting]]></category>
		<category><![CDATA[System Administration]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2307</guid>

					<description><![CDATA[Install Docker on Ubuntu Server, attach disks to the Docker host VM and configure mounts.]]></description>
										<content:encoded><![CDATA[
<p>In order to run and test things I set up multiple Hyper-V VMs as Docker hosts to run my containers. This blog documents the Docker installation and disk mounting on Ubuntu Server.</p>



<p>First, if you have installed Docker or any packages along with Ubuntu Server, it&#8217;s likely installed via snap. There is nothing wrong with using snap, but most of the directory paths will be different and it makes it harder to tweak certain configs in the future, so it&#8217;s recommended to remove them before the rest of the steps.</p>



<pre class="wp-block-code"><code>sudo snap remove docker
sudo reboot 

# Reboot is needed, otherwise you'll get "bash: /snap/bin/docker: No such file or directory" error.</code></pre>



<p>Second, install Docker:</p>



<pre class="wp-block-code"><code># Install using the apt repository:
# https://docs.docker.com/engine/install/ubuntu/
apt-get update -y
apt-get upgrade -y
apt-get install ca-certificates curl gnupg lsb-release -y
mkdir -m 0755 -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg \
    | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

echo "deb &#91;arch=$(dpkg --print-architecture) \
    signed-by=/etc/apt/keyrings/docker.gpg] \
    https://download.docker.com/linux/ubuntu \
    $(lsb_release -cs) stable" | tee /etc/apt/sources.list.d/docker.list > /dev/null

apt-get update -y
apt-get upgrade -y
apt-get install docker-ce \
        docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# After installing docker-ce, other dependencies are usually automatically installed.

# OPTIONAL: List and verify installed packages.

apt list --installed</code></pre>



<p>Third, mount physical or virtual disks one by one to the VM so that you can identify the disks by UUID and configure the mount one at a time, especially when you have multiple disks of the same size, because the devices are usually not attached in order when booting, the only way to quickly and accurately identify the disks is by UUID. Use the following commands to format and configure the mounts.</p>



<pre class="wp-block-code"><code># List devices.
fdisk -l

# Cross reference with:
blkid
blkid | grep /dev/sd

# Use lsscsi if needed.
apt-get install lsscsi -y

# Create partition:
gdisk /dev/sda

# Enter ? for help. Enter n and accept all default parameters to use the entire disk capacity.
# Enter w to write changes to disk.

# Format disk to ext4 file system.
mkfs.ext4 /dev/sda

# Then run:
fdisk -l
blkid | grep /dev/sd
# again to grab the device name and UUID.

# Create mount locations:
mkdir /mnt/directory_name
mount /dev/sda /mnt/directory_name

# Copy the UUID and add entries in /etc/fstab to configure mounts at boot time.
nano /etc/fstab

# Add entries, e.g., mount 100GB to /mnt/my_folder:
UUID="dcd8c5ac-db76-435e-ab3c-48570190c7d8" /mnt/my_folder ext4 defaults 0 1

# Verify the mounts after a reboot.</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Self-hosted Nextcloud with Docker</title>
		<link>https://jameswsullivan.github.io/self-hosted-nextcloud-with-docker/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Tue, 11 Apr 2023 01:24:00 +0000</pubDate>
				<category><![CDATA[blog]]></category>
		<category><![CDATA[Docker]]></category>
		<category><![CDATA[Hosting]]></category>
		<category><![CDATA[Nextcloud]]></category>
		<category><![CDATA[Self-Hosting]]></category>
		<category><![CDATA[Web Hosting]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2303</guid>

					<description><![CDATA[Spin up self-hosted Nextcloud with MySQL using Docker.]]></description>
										<content:encoded><![CDATA[
<p>My <a href="https://jameswsullivan.github.io/self-host-nextcloud/">previous attempt</a> to spin up a self-hosted Nextcloud was directly on a Ubuntu VM, but its virtual disks were not configured in a way that&#8217;s easily expandable as data grows. This time I&#8217;m using Docker and have addressed the issues.</p>



<h2 class="wp-block-heading">Components:</h2>



<ul>
<li>The Docker host is a dedicated Hyper-V VM running Ubuntu Server in Windows Server 2022.</li>



<li><a href="https://hub.docker.com/_/nextcloud" target="_blank" rel="noreferrer noopener">Nextcloud</a> Docker image.</li>



<li><a href="https://hub.docker.com/r/ubuntu/mysql" target="_blank" rel="noreferrer noopener">Ubuntu/MySQL</a> Docker image.</li>



<li>A storage pool consisting of 6 x 500GB 2.5&#8221; HDDs and a virtual disk in Parity mode with 2 disks set as redundant, bringing total capacity to 1.35TB. This virtual disk will be mounted to Nextcloud&#8217;s <code>/var/www/html</code> path to store persistent data.</li>



<li>An 100GB virtual disk for MySQL persistent data (<code>/var/lib/mysql</code>).</li>
</ul>



<h2 class="wp-block-heading">Nextcloud Dockerfile:</h2>



<pre class="wp-block-code"><code>FROM nextcloud

# Configure PHP parameters via environment variables.
ENV PHP_MEMORY_LIMIT=4096M
ENV PHP_UPLOAD_LIMIT=4096M

# Install packages and configure timezone.
RUN apt-get update -y &amp;&amp; \
    apt-get upgrade -y &amp;&amp; \
    apt-get install nano -y &amp;&amp; \
    apt-get install tzdata -y &amp;&amp; \
    ln -fs /usr/share/zoneinfo/US/Central /etc/localtime &amp;&amp; \
    dpkg-reconfigure -f noninteractive tzdata

EXPOSE 80 443</code></pre>



<h2 class="wp-block-heading">Containers:</h2>



<pre class="wp-block-code"><code># Build Nextcloud image
docker image build --tag nextcloud:1.0 --progress plain --no-cache . 2>&amp;1 | tee build.log

# Start Nextcloud container.
# The drive for Nextcloud's persistent data is mounted to /mnt/nextcloud_data .
docker run -dit --name MY-NEXTCLOUD-CONTAINER --ip IP-ADDRESS --network DOCKER-NETWORK --restart=unless-stopped --hostname=MY_NEXTCLOUD_CONTAINER_HOSTNAME -v /mnt/nextcloud_data:/var/www/html nextcloud:1.0

# Start a MySQL container for Nextcloud.
# The virtual disk for MySQL's persistent data is mounted to /mnt/nextcloud_db .
docker run -dit --name MY-NEXTCLOUD-DB-CONTAINER --ip IP-ADDRESS --network DOCKER-NETWORK --hostname=MY_NEXTCLOUD_DB_CONTAINER_HOSTNAME --restart=unless-stopped -v /mnt/nextcloud_db:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=MY-ROOT-PASSWORD ubuntu/mysql</code></pre>



<h2 class="wp-block-heading">Docker compose:</h2>



<p>To be added.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Docker Commands</title>
		<link>https://jameswsullivan.github.io/docker-commands/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Wed, 29 Mar 2023 02:18:34 +0000</pubDate>
				<category><![CDATA[notes]]></category>
		<category><![CDATA[Docker]]></category>
		<category><![CDATA[Software Development]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2249</guid>

					<description><![CDATA[Docker commands study note.]]></description>
										<content:encoded><![CDATA[
<pre class="wp-block-code"><code># Docker Swarm
docker swarm init
docker service create --name webapp1 --replicas=6 nginx
docker swarm update --autolock=true
docker swarm unlock-key
docker node update --availability drain &lt;NODE&gt;

docker service ls
docker swarm visualizer
docker inspect

# Docker Stack
docker stack deploy --compose-file docker-stack.yml NAME_OF_STACK
docker stack ls
docker stack ps
docker stack services NAME_OF_STACK
docker service update 
docker service update --publish-add published=8080,target-8080 SERVICE_NAME
docker service update --mount-add type=volume, source=web-vol,target=/web-vol-dir SERVICE_NAME
docker service create --mode global --name global-service nginx
docker node update --label-add LABEL_NAME NODE_NAME
docker node inspect NODE_NAME

# MISC Commands
docker image inspect
docker image history

docker build --squash -f dockerfile_name .
docker container run -d nginx
docker container export CONTAINER_NAME &gt; nginx.tar
docker image import nginx.tar

docker save 
docker image prune
docker system prune

docker commit CONTAINER_ID repo:tag

docker attach CONTAINER_NAME
docker logs CONTAINER_NAME
docker kill CONTAINER_ID or CONTAINER_NAME
docker stop CONTAINER_ID or CONTAINER_NAME
docker run --memory MAXIMUM_ALLOWED_MEMORY
docker run --cpu-shares

docker run -it -p HOST_PORT_NUMBER:CONTAINER_PORT_NUMBER/PROTOCOL --name CONTAINER_NAME IMAGE_NAME

docker port CONTAINER_NAME

docker rmi IMAGE_NAME:TAG
docker rmi IMAGE_ID

docker run -it -v PATH_ON_HOST:MOUNT_POINT_IN_CONTAINER IMAGE_NAME bash

docker search IMAGE_NAME
docker login
docker tag
docker push

docker inspect --format '{{.State.Pid}}' CONTAINER_NAME
docker run -it --rm --priviledged=true --pid=host ubuntu bash

docker run -d -p 5000:5000 --restart=always --name registry registry:2


docker exec -it MySQL mysql --local-infile=1 -u root -p
</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Cleanly Remove User Profiles from Windows OS</title>
		<link>https://jameswsullivan.github.io/cleanly-remove-user-profiles-from-windows-os/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sun, 26 Mar 2023 19:40:25 +0000</pubDate>
				<category><![CDATA[notes]]></category>
		<category><![CDATA[Desktop Support]]></category>
		<category><![CDATA[Registry]]></category>
		<category><![CDATA[System Administration]]></category>
		<category><![CDATA[Windows Systems Administration]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2230</guid>

					<description><![CDATA[Cleanly Remove User Profiles from Windows OS]]></description>
										<content:encoded><![CDATA[
<ol>
<li>Delete profile account using <code>lusrmgr.msc</code>.</li>



<li>Delete profile folder under <code>Users</code>.</li>



<li>Delete registry keys:</li>
</ol>



<pre class="wp-block-code"><code>HKLM\Software\Microsoft\WindowsNT\CurrentVersion\ProfileList

HKLM\Software\Microsoft\WindowsNT\CurrentVersion\ProfileGuid</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Invalid Time error and Unable to Change Time Zone</title>
		<link>https://jameswsullivan.github.io/invalid-time-error-and-unable-to-change-time-zone/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sun, 26 Mar 2023 16:52:31 +0000</pubDate>
				<category><![CDATA[blog]]></category>
		<category><![CDATA[System Administration]]></category>
		<category><![CDATA[Windows Systems Administration]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2217</guid>

					<description><![CDATA[Fix the Invalid Time error and the Time Zone setting greyed out issue on Windows.]]></description>
										<content:encoded><![CDATA[
<p>If your applications are encountering an Invalid Time error, check the following settings:</p>



<pre class="wp-block-preformatted">Control Panel - Date and Time - Internet Time - Change Settings ... - Synchronize with an Internet time server - Set server to: time.nist.gov</pre>



<p>For some reason the <code>time.windows.com</code> occasionally has issues with certain programs.</p>



<p>If your <code>Time zone</code> setting is greyed out in Windows Settings, use <a href="https://learn.microsoft.com/en-us/troubleshoot/windows-client/shell-experience/cannot-set-timezone-automatically">this guide</a> to fix it:</p>



<pre class="wp-block-code"><code>1. Change the Set time zone automatically setting and set the data value of the registry entry
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\tzautoupdate\Start
as follows:

3	Enable Set time zone automatically
4	Disable Set time zone automatically

2. Change the location setting and set the value of the registry entry
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\CapabilityAccessManager\ConsentStore\location\Value
as follows:

Allow	On
Deny	Off</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>DISKPART</title>
		<link>https://jameswsullivan.github.io/diskpart/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sun, 26 Mar 2023 16:18:30 +0000</pubDate>
				<category><![CDATA[notes]]></category>
		<category><![CDATA[DISKPART]]></category>
		<category><![CDATA[NAS]]></category>
		<category><![CDATA[Storage]]></category>
		<category><![CDATA[Storage Pool]]></category>
		<category><![CDATA[TrueNAS]]></category>
		<category><![CDATA[Virtual Disk]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2207</guid>

					<description><![CDATA[DISKPART commands.]]></description>
										<content:encoded><![CDATA[
<p>Output of the &#8220;help&#8221; command:</p>



<pre class="wp-block-code"><code>ACTIVE      - Mark the selected partition as active.
ADD         - Add a mirror to a simple volume.
ASSIGN      - Assign a drive letter or mount point to the selected volume.
ATTRIBUTES  - Manipulate volume or disk attributes.
ATTACH      - Attaches a virtual disk file.
AUTOMOUNT   - Enable and disable automatic mounting of basic volumes.
BREAK       - Break a mirror set.
CLEAN       - Clear the configuration information, or all information, off the
              disk.
COMPACT     - Attempts to reduce the physical size of the file.
CONVERT     - Convert between different disk formats.
CREATE      - Create a volume, partition or virtual disk.
DELETE      - Delete an object.
DETAIL      - Provide details about an object.
DETACH      - Detaches a virtual disk file.
EXIT        - Exit DiskPart.
EXTEND      - Extend a volume.
EXPAND      - Expands the maximum size available on a virtual disk.
FILESYSTEMS - Display current and supported file systems on the volume.
FORMAT      - Format the volume or partition.
GPT         - Assign attributes to the selected GPT partition.
HELP        - Display a list of commands.
IMPORT      - Import a disk group.
INACTIVE    - Mark the selected partition as inactive.
LIST        - Display a list of objects.
MERGE       - Merges a child disk with its parents.
ONLINE      - Online an object that is currently marked as offline.
OFFLINE     - Offline an object that is currently marked as online.
RECOVER     - Refreshes the state of all disks in the selected pack.
              Attempts recovery on disks in the invalid pack, and
              resynchronizes mirrored volumes and RAID5 volumes
              that have stale plex or parity data.
REM         - Does nothing. This is used to comment scripts.
REMOVE      - Remove a drive letter or mount point assignment.
REPAIR      - Repair a RAID-5 volume with a failed member.
RESCAN      - Rescan the computer looking for disks and volumes.
RETAIN      - Place a retained partition under a simple volume.
SAN         - Display or set the SAN policy for the currently booted OS.
SELECT      - Shift the focus to an object.
SETID       - Change the partition type.
SHRINK      - Reduce the size of the selected volume.
UNIQUEID    - Displays or sets the GUID partition table (GPT) identifier or
              master boot record (MBR) signature of a disk.</code></pre>



<p>If a disk has corrupt partitions/volumes and the <code>delete</code> command does not work, use the <code>clean</code> command to force clean the partitions/volumes on a disk.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Create Storage Pools and Virtual Disks via PowerShell</title>
		<link>https://jameswsullivan.github.io/create-storage-pools-and-virtual-disks-via-powershell/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sun, 26 Mar 2023 15:57:56 +0000</pubDate>
				<category><![CDATA[notes]]></category>
		<category><![CDATA[PowerShell]]></category>
		<category><![CDATA[Storage Pool]]></category>
		<category><![CDATA[System Administration]]></category>
		<category><![CDATA[Virtual Disk]]></category>
		<category><![CDATA[Windows Server]]></category>
		<category><![CDATA[Windows Systems Administration]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2203</guid>

					<description><![CDATA[Create Storage Pools and Virtual Disks via PowerShell when New Virtual Disk Wizard GUI emits error.]]></description>
										<content:encoded><![CDATA[
<p>If creating New Virtual Disk using the New Virtual Disk Wizard GUI emits this error:</p>



<pre class="wp-block-code"><code>Failed to create virtual disk - Not Supported

Extended information:
The storage pool does not have sufficient eligible resources for the creation of the specified virtual disk.

Recommended Actions:
- Choose a combination of FaultDomainAwareness and NumberOfDataCopies (or PhysicalDiskRedundancy) supported by the storage pool.
- Choose a value for NumberOfColumns that is less than or equal to the number of physical disks in the storage fault domain selected for the virtual disk.

Activity ID:</code></pre>



<p>use PowerShell might work. <a href="https://www.petenetlive.com/KB/Article/0001562">Ref</a>. This might happen when you have multiple SSDs/HDDs connected to the host via an HBA Adapter.</p>



<ul>
<li><a href="https://learn.microsoft.com/en-us/powershell/module/storage/new-storagepool?view=windowsserver2022-ps">New-StoragePool</a></li>



<li><a href="https://learn.microsoft.com/en-us/powershell/module/storage/get-virtualdisk?view=windowsserver2022-ps">Get-VirtualDisk</a></li>



<li><a href="https://learn.microsoft.com/en-us/powershell/module/storage/new-virtualdisk?view=windowsserver2022-ps">New-VirtualDisk</a></li>
</ul>



<pre class="wp-block-code"><code>New-StoragePool

New-VirtualDisk -StoragePoolFriendlyName STORAGE_POOL_NAME `
                -FriendlyName VIRTUAL_DISK_NAME -UseMaximumSize `
                -ResiliencySettingName "Parity" -PhysicalDiskRedundancy 1 `
                -ProvisioningType Fixed -MediaType SSD

Get-VirtualDisk</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>SLMGR Commands</title>
		<link>https://jameswsullivan.github.io/slmgr-commands/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sun, 26 Mar 2023 15:39:05 +0000</pubDate>
				<category><![CDATA[notes]]></category>
		<category><![CDATA[KMS]]></category>
		<category><![CDATA[System Administration]]></category>
		<category><![CDATA[Windows Server]]></category>
		<category><![CDATA[Windows Systems Administration]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2200</guid>

					<description><![CDATA[SLMGR.vbs Options for Volume Activation]]></description>
										<content:encoded><![CDATA[
<p>Useful Refs:</p>



<ul>
<li><a href="https://learn.microsoft.com/en-us/windows-server/get-started/kms-client-activation-keys">Key Management Services (KMS) client activation and product keys</a></li>



<li><a href="https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn502540(v=ws.11)">Slmgr.vbs Options for Volume Activation</a></li>



<li><a href="https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn502529(v=ws.11)">Volume Activation Technical Reference</a></li>



<li><a href="https://learn.microsoft.com/en-us/previous-versions/tn-archive/ee939272(v=technet.10)">How to troubleshoot the Key Management Service (KMS)</a></li>
</ul>



<p>Common Commands to use on clients:</p>



<pre class="wp-block-code"><code># Example activating Windows Server 2022 Standard
slmgr /upk
slmgr /ipk VDYBN-27WPP-V4HQT-9VMD4-VMK7H
slmgr /skms KMS_SERVER_IP_ADDR
slmgr /ato

# Show current activation status.
slmgr /dlv</code></pre>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Troubleshooting Apache Web Server and Name-based Virtual Hosting</title>
		<link>https://jameswsullivan.github.io/troubleshooting-apache-web-server-and-name-based-virtual-hosting/</link>
		
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Sat, 25 Mar 2023 23:26:42 +0000</pubDate>
				<category><![CDATA[blog]]></category>
		<category><![CDATA[Apache]]></category>
		<category><![CDATA[Docker]]></category>
		<category><![CDATA[Hosting]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[Self-Hosting]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<category><![CDATA[Web Hosting]]></category>
		<guid isPermaLink="false">https://jameswsullivan.github.io/?p=2185</guid>

					<description><![CDATA[This troubleshooting note wraps up the Name-based Virtual Hosting Series.]]></description>
										<content:encoded><![CDATA[
<p>During the process of setting up name-based virtual hosting with Apache, I ran into a few issues with the WordPress container, this post documents the steps taken to address them.</p>



<h2 class="wp-block-heading">Background:</h2>



<p>I use the locally hosted WordPress site to write documentation and blog posts and then use Simply Static to convert and get it ready for GitHub Pages. During the process I ran into the following issues:</p>



<ul>
<li>WordPress Site Health check has three critical issues:
<ul>
<li>The required module, gd, is not installed, or has been disabled.</li>



<li>The REST API encountered an error.</li>



<li>Your site could not complete a loopback request.</li>
</ul>
</li>



<li><em>Updating failed. The response is not a valid JSON response.</em> when creating and updating posts.</li>



<li>Simply Static&#8217;s failed diagnostics:
<ul>
<li>Checking if WordPress can make requests to itself from YOUR_IP  FAIL</li>



<li>Checking for cURL support  FAIL</li>
</ul>
</li>
</ul>



<h2 class="wp-block-heading">Issue 1: Updating failed. The response is not a valid JSON response.</h2>



<p>I get this error only after I&#8217;ve set the <strong>Permalinks</strong> setting to anything else other than the default <strong>Plain</strong> setting. When <strong>Permalinks</strong> is not set to <strong>Plain</strong>, the URLs need to be rewritten, and that&#8217;s when this error will occur. In my case, it turned out to be that I forgot to add the &lt;Directory> tag in the virtual host configuration file. As you can see in <a href="https://jameswsullivan.github.io/configure-apache-web-server-and-name-based-virtual-hosting-with-ubuntu/">this post</a>, my configuration file looks like this:</p>



<pre class="wp-block-code"><code>&lt;VirtualHost *:80>
    ServerAdmin webmaster@example1.mydomain
    ServerName example1.mydomain
    DocumentRoot /var/www/html/example1.mydomain
    DirectoryIndex index.php
    ErrorLog ${APACHE_LOG_DIR}/example1.mydomain_error.log
    CustomLog ${APACHE_LOG_DIR}/example1.mydomain_access.log combined
&lt;/VirtualHost></code></pre>



<p>But the correct configs for rewrite to work need to look like this:</p>



<pre class="wp-block-code"><code>&lt;VirtualHost *:80>
    ServerAdmin webmaster@example1.mydomain
    ServerName example1.mydomain
    DocumentRoot /var/www/html/example1.mydomain

        &lt;Directory /var/www/html/example1.mydomain>
                Options Indexes FollowSymLinks
                AllowOverride All
                Require all granted
                DirectoryIndex index.php
        &lt;/Directory>

    ErrorLog ${APACHE_LOG_DIR}/example1.mydomain_error.log
    CustomLog ${APACHE_LOG_DIR}/example1.mydomain_access.log combined
&lt;/VirtualHost></code></pre>



<p>Without the <strong>&lt;Directory></strong> element, the <strong>.htaccess</strong> file is unable to override the rewrite rules.</p>



<h2 class="wp-block-heading">Issue 2: WordPress Site Health Critical Issues</h2>



<p><strong>The required module, gd, is not installed, or has been disabled.</strong></p>



<pre class="wp-block-code"><code># Install the php8.1-gd module
apt-get install php8.1-gd -y</code></pre>



<p><strong>The REST API encountered an error.</strong></p>



<pre class="wp-block-code"><code>The REST API is one way that WordPress and other applications communicate with the server. For example, the block editor screen relies on the REST API to display and save your posts and pages.

When testing the REST API, an error was encountered:

REST API Endpoint: http://example1.mydomain/wp-json/wp/v2/types/post?context=edit
REST API Response: (http_request_failed) cURL error 6: Could not resolve host: example1.mydomain</code></pre>



<p><strong>Your site could not complete a loopback request.</strong></p>



<pre class="wp-block-code"><code>Loopback requests are used to run scheduled events, and are also used by the built-in editors for themes and plugins to verify code stability.

The loopback request to your site failed, this means features relying on them are not currently working as expected.
Error: cURL error 6: Could not resolve host: example1.mydomain (http_request_failed)</code></pre>



<p>Edit the <strong>/etc/hosts</strong> file:</p>



<pre class="wp-block-code"><code>nano /etc/hosts

# Add a new line: IP hostname. e.g. 192.168.0.4 website1.example.com</code></pre>



<p>Additionally, you might need to install the curl package:</p>



<pre class="wp-block-code"><code>apt-get install php8.1-curl -y

# Verify curl version:
curl --version

# Verify curl is enabled in php.ini
nano /etc/php/8.1/apache2/php.ini

# Uncomment this line:
extension=curl</code></pre>



<p>Adding this entry in <strong>/etc/hosts</strong> file also resolves Simply Static&#8217;s <em>&#8220;Checking if WordPress can make requests to itself from your_IP&#8221;</em> FAIL issue.</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
